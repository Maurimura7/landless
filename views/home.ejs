<!-- views/profile.ejs -->
<!doctype html>
<html>
<head>
	<title>Subir archivo</title>
		<link href="stylesheets/material.components.ext.min.css" rel="stylesheet">
	<link href="stylesheets/base.css" rel="stylesheet">
	
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
<link rel="shortcut icon" href="images/favicon.png">

	   <!-- Mobile viewport optimized: j.mp/bplateviewport -->
  <meta name="viewport" content="width=device-width,initial-scale=1">

</head>
<body>

<main class="content">
		<div class="container">
			<div class="row">
				<div class="col-lg-4 col-lg-push-4 col-sm-6 col-sm-push-3">
					<section class="content-inner">
						<div class="card-wrap">
							<div class="card">
								<div class="card-main">
									<div class="card-header">
										<div class="card-inner">
											<h1 class="card-heading">Subir archivo
												
													<% if (message.length > 0 && message.length<20) { %>  
														<small class="pull-right text-green" id="txt">
															<%=message %>
														</small>

													 <% }else{ %>
													 
													 	<small class="pull-right text-red" id="txt">
															<%=message %>
														</small>
													 <% } %>
													
											</h1>

												
										</div>
									</div>
									<div class="card-inner text-center">
				 
				<form action="/subir" method="post"  enctype="multipart/form-data" id="my_form" class="file_input_div">
				    <div class="file_input">
				      <label class="mdl-button--fab fbtn-brand waves-attach waves-circle waves-light  mdl-button--mini-fab">
				        <i class="material-icons">folder</i>
				        <input id="input-1" required name="archivo" class="none" type="file" />
				      </label>
				    </div>
				    <div id="file_input_text_div" class="mdl-textfield mdl-js-textfield textfield-demo">
				      <input class="file_input_text mdl-textfield__input" required type="text" disabled readonly id="file_input_text"  />

				      <label class="mdl-textfield__label" for="file_input_text"></label>
				    </div>
				    
				   
				

				    	<a href="javascript:{}" onclick="sub();" class="btn btn-flat btn-brand  waves-attach">Subir<a />
				    
				 </form>


										
									</div>
								</div>
							</div>
						</div>
						<div class="spinner" id="ring" style="opacity:0;">
  <div class="double-bounce1"></div>
  <div class="double-bounce2"></div>
</div>


							
						

					</section>
				</div>
			</div>
		</div>
	</main>

	<script src="javascripts/jquery-2.1.4.min.js"></script>

	<script src="javascripts/base.min.js"></script>

<script type="text/javascript">
setTimeout(function(){ 
	$("#txt").animate({ opacity: 0 }, 1000);
},2000);

var fileInputTextDiv = document.getElementById('file_input_text_div');
var fileInput = document.getElementById('input-1');
var fileInputText = document.getElementById('file_input_text');
fileInput.addEventListener('change', changeInputText);
fileInput.addEventListener('change', changeState);

function changeInputText() {
  var str = fileInput.value;
  var i;
  if (str.lastIndexOf('\\')) {
    i = str.lastIndexOf('\\') + 1;
  } else if (str.lastIndexOf('/')) {
    i = str.lastIndexOf('/') + 1;
  }
  fileInputText.value = str.slice(i, str.length);
}

function changeState() {
  if (fileInputText.value.length != 0) {
    if (!fileInputTextDiv.classList.contains("is-focused")) {
      fileInputTextDiv.classList.add('is-focused');
    }
  } else {
    if (fileInputTextDiv.classList.contains("is-focused")) {
      fileInputTextDiv.classList.remove('is-focused');
    }
  }
}
function sub(){
	$('#ring').css('opacity','1');
	//$('#txt').html("Archivo subido");
	document.getElementById('my_form').submit();
}
</script>
</body>
</html>